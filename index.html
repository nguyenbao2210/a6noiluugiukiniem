<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Nơi lưu giữ kỉ niệm A6 niên khóa 2021-2025</title>
  <style>
    body {
      background-image: url('d4465b16-5a30-4307-8648-55c78a2eaeb6.png'); https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.tiktok.com%2Fdiscover%2Fgoodbye-to-my-classmates-and-my-teachers&psig=AOvVaw3Bu-9x__lEvv15qrUK8o_r&ust=1748257893926000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCIDzz-2-vo0DFQAAAAAdAAAAABAM
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      min-height: 100vh;
      margin: 0;
      font-family: Arial, sans-serif;
      color: white;
      text-shadow: 1px 1px 2px #000;
    }

    .container {
      background: rgba(0, 0, 0, 0.4);
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
      border-radius: 10px;
      margin-top: 30px;
    }

    h1, h2 {
      text-align: center;
    }

    #messageList {
      margin-top: 20px;
    }

    input, button {
      padding: 8px;
      border: none;
      border-radius: 4px;
      font-size: 16px;
    }

    #submitBtn {
      margin-left: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Nơi lưu giữ kỉ niệm A6 niên khóa 2021-2025</h1>
    <p style="text-align: center; font-style: italic;">
      Đã 1 khoảng thời gian trôi qua và chúng ta đều có cho mình những kỉ niệm đẹp cùng nhau. Nhưng có thể sau này sẽ không còn gặp nhau được nữa. Khi nghĩ về điều đó, mỗi chúng ta đều có suy nghĩ và cảm xúc khác nhau. Và tại đây, tôi mong muốn có thể được nghe cảm xúc thật của các bạn về khoảng thời gian cấp 2 đầy đẹp đẽ này.
    </p>

    <h2>Gửi lời nhắn</h2>
    <input type="text" id="nameInput" placeholder="Tên của bạn...">
    <input type="text" id="messageInput" placeholder="Nhập lời nhắn...">
    <button id="submitBtn">Gửi</button>

    <h2>Cảm xúc của mọi người</h2>
    <div id="messageList"></div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAhsQAGuHcWJs79kl49AJClCvEbzcqob30",
      authDomain: "a6noiluugiunhungkiniem.firebaseapp.com",
      projectId: "a6noiluugiunhungkiniem",
      storageBucket: "a6noiluugiunhungkiniem.firebasestorage.app",
      messagingSenderId: "834977276667",
      appId: "1:834977276667:web:704f0a898394e3744ec65e",
      measurementId: "G-GHK2V4XZ38"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.getElementById("submitBtn").addEventListener("click", function () {
      const name = document.getElementById("nameInput").value.trim();
      const msg = document.getElementById("messageInput").value.trim();
      if (msg && name) {
        db.collection("messages").add({
          name: name,
          content: msg,
          timestamp: new Date()
        });
        document.getElementById("messageInput").value = "";
      }
    });

    function loadMessages() {
      db.collection("messages").orderBy("timestamp", "desc").onSnapshot(snapshot => {
        const container = document.getElementById("messageList");
        container.innerHTML = "";
        snapshot.forEach(doc => {
          const data = doc.data();
          const p = document.createElement("p");
          p.textContent = `${data.name}: ${data.content}`;
          container.appendChild(p);
        });
      });
    }
    loadMessages();
  </script>
</body>
</html>
